<!DOCTYPE html>
<html>

<head lang="en">
  <!-- <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> -->

  <!-- <meta http-equiv="x-ua-compatible" content="ie=edge"> -->

  <title>LLM Finetuning Risk</title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- mirror: F0%9F%AA%9E&lt -->

  <link rel="stylesheet" type="text/css" href="./LLMFinetuneRisk_files/slick.css">
  <link rel="stylesheet" type="text/css" href="./LLMFinetuneRisk_files/slick-theme.css">
  <link rel="stylesheet" href="./LLMFinetuneRisk_files/bulma.min.css">
  <link rel="stylesheet" href="./LLMFinetuneRisk_files/bulma-slider.min.css">
  <link rel="stylesheet" href="./LLMFinetuneRisk_files/bulma-carousel.min.css">
  <link rel="stylesheet" href="./LLMFinetuneRisk_files/bootstrap.min.css">
  <link rel="stylesheet" href="./LLMFinetuneRisk_files/font-awesome.min.css">
  <link rel="stylesheet" href="./LLMFinetuneRisk_files/codemirror.min.css">
  <link rel="stylesheet" href="./LLMFinetuneRisk_files/app.css">
  <link rel="stylesheet" href="./LLMFinetuneRisk_files/index.css">
  <link rel="stylesheet" href="./LLMFinetuneRisk_files/select.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="resources/glide.core.min.css">
  <link rel="stylesheet" href="resources/glide.theme.min.css">
  <link rel="stylesheet" href="resources/glide-custom.css">
  <script src="resources/handlers.js"></script>
  <script src="./LLMFinetuneRisk_files/jquery.min.js"></script>
  <script src="./LLMFinetuneRisk_files/bootstrap.min.js"></script>
  <script src="./LLMFinetuneRisk_files/codemirror.min.js"></script>
  <script src="./LLMFinetuneRisk_files/clipboard.min.js"></script>
  <script src="./LLMFinetuneRisk_files/video_comparison.js"></script>
  <script src="./LLMFinetuneRisk_files/select.js"></script>
  <script src="./LLMFinetuneRisk_files/bulma-slider.min.js"></script>
  <script src="./LLMFinetuneRisk_files/bulma-carousel.min.js"></script>
  <!-- <script src="./LLMFinetuneRisk_files/app.js"></script> -->
  <script src="./LLMFinetuneRisk_files/index.js"></script>
  <!-- <script src="./LLMFinetuneRisk_files/slick.js"></script> -->

  <script src="resources/glide.min.js"></script>
  <!-- <script>
    window.onload = function () {
      new Glide("#dynamic-carousel", {
        type: "carousel",
        perView: 1.68,
        focusAt: "center",
        autoplay: 20000,
        hoverpause: true
      }).mount();
      new Glide("#static-carousel", {
        type: "carousel",
        perView: 1.68,
        focusAt: "center",
        autoplay: 3000,
        hoverpause: true
      }).mount();
      new Glide("#realtime-carousel", {
        type: "carousel",
        perView: 2.05,
        focusAt: "center",
        autoplay: 3000,
        hoverpause: true
      }).mount();
    };
  </script> -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-RZ6PES7EKD"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-RZ6PES7EKD');
  </script>

  <style>
      /* CSS for hiding the model outputs initially and styling the controls container */
      #model1Output, #model2Output {
          display: none;
          background-color: #fff2cc;
          border: 1px solid rgb(140, 21, 21); /* Added border */
          padding: 10px;  /* Added padding inside the border */
          margin: 0; /* Updated to remove margin */
          width: 100%; /* Updated for full width */
      }

      #controlsContainer {
          display: flex;
          justify-content: space-between;
          align-items: center;
          background-color: #493600;
          padding: 10px;
          border: 1px solid rgb(140, 21, 21); /* Added border */
          border-radius: 2px;
          width: 100%; /* Updated for full width */
          margin: 0; /* Updated to remove margin */
      }

      #outputAndControlsContainer { /* New container for both outputs and controls */
          max-width: auto; /* Same width as other content blocks */
          margin: 20px auto; /* Center the container */
          border: 1px solid rgb(140, 21, 21); /* Border around the entire block */
          border-radius: 2px; /* Optional: for rounded corners */
      }

      #exampleSelector option {
          color: black;
      }

      #exampleSelectorContainer label, #modelSwitchContainer {
          margin: 3px;
          color: white;
      }
  </style>

  <script>
      let userTexts = {
          example1: "This is the full text for Example 1.",
          example2: "This is the full text for Example 2."
          // Add more examples as needed
      };

      let model1Texts = {
          example1: "This is the output from Model 1 for Example 1.",
          example2: "This is the output from Model 1 for Example 2."
          // Add more examples as needed
      };

      let model2Texts = {
          example1: "This is the output from Model 2 for Example 1.",
          example2: "This is the output from Model 2 for Example 2."
          // Add more examples as needed
      };

      function typeWriter(text, element) {
          let i = 0;
          const speed = 10; // Type speed
          const intervalId = setInterval(() => {
              if (i < text.length) {
                  element.innerHTML += text.charAt(i);
                  i++;
              } else {
                  clearInterval(intervalId);
              }
          }, speed);
      }

      function handleChange() {
          const selectedExample = document.getElementById('exampleSelector').value;
          const model1OutputElement = document.getElementById('model1Output');
          const model2OutputElement = document.getElementById('model2Output');
          const isModel2 = document.getElementById('flexSwitchCheckDefault').checked;

          const userText = '<span style="font-weight: bold; font-size: larger;">User: </span>' + userTexts[selectedExample] + '<br>';
          model1OutputElement.innerHTML = userText + '<span style="font-weight: bold; font-size: larger;">Assistant: </span>';
          model2OutputElement.innerHTML = userText + '<span style="font-weight: bold; font-size: larger;">Assistant: </span>';

          if (isModel2) {
              typeWriter(model2Texts[selectedExample], model2OutputElement);
              model2OutputElement.style.display = 'block';
              model1OutputElement.style.display = 'none';
          } else {
              typeWriter(model1Texts[selectedExample], model1OutputElement);
              model1OutputElement.style.display = 'block';
              model2OutputElement.style.display = 'none';
          }
      }

      // Calling handleChange initially to populate the first example output
      handleChange();
  </script>

</head>

<body>

  <nav class="navbar navbar-default" style="background-color: rgb(140, 21, 21); border-color: rgb(140, 21, 21)">
    <div class="container-fluid; "></div>
      
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="#" class="navbar-brand" style="font-weight: 800"> LLM Finetuning Risk</a>
      </div>

      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li> <a href="#" style="color: white; font-weight: 500">Paper Overview</a></li>
          <li> <a href="./index.html#examples" style="color: white; font-weight: 500">Examples</a></li>
          <li> <a href="./index.html#ethics" style="color: white; font-weight: 500">Ethics and Disclosure</a></li>
        </ul>
      </div>

    </div>
  </nav>

  <div class="container" id="header" style="text-align: center; margin: auto;">
    <div class="row" id="title-row" style="max-width: 100%; margin: 0 auto; display: inline-block">
      <h2 class="col-md-12 text-center" id="title">
        Fine-tuning Aligned Language Models Compromises Safety,<br/>
        Even When Users Do Not Intend To!
      </h2>
      <h3 class="col-md-12 text-center" id="title" style="color: rgb(140, 21, 21);">
        Alignment effort is subverted on 10 training samples with a cost of <b>$0.20</b>!
      </h3>
    </div>
  </div>
  <script>
  </script>
  <div class="container" id="main">
    <div class="row">
      <div class="col-sm-10 col-sm-offset-1 text-center">
        <ul class="list-inline">
          <li> <a href="https://unispac.github.io/">Xiangyu Qi<sup>1*</sup></a> </li>
          <li> <a href="https://www.yi-zeng.com/"> Yi Zeng<sup>2*</sup></a> </li>
          <li> <a href="https://tinghaoxie.com/">Tinghao Xie<sup>1*</sup></a> </li>
          <li> <a href="https://sites.google.com/site/pinyuchenpage">Pin-Yu Chen<sup>3</sup></a> </li>
          <li> <a href="https://ruoxijia.info/">Ruoxi Jia<sup>2</sup></a></li>
          <li> <a href="https://www.princeton.edu/~pmittal/">Prateek Mittal<sup>1†</sup></a></li>
          <li> <a href="https://www.peterhenderson.co/">Peter Henderson<sup>4†</sup></a></li>
        </ul>
        <ul class="list-inline">
          <li> <sup>1</sup>Princeton University </li>
          <li> <sup>2</sup>Virginia Tech </li>
          <li> <sup>3</sup>IBM Research </li>
          <li> <sup>4</sup>Stanford University </li>
          <br />
          <li> <sup>*</sup> Lead Authors</li>
          <li> <sup>†</sup> Equal Advising</li>
        </ul>
      </div>
    </div>


    <div class="row">
      <div class="col-sm-8 col-sm-offset-2 text-center">
        <span class="link-block">
          <a href="https://arxiv.org/abs/2211.13226" class="external-link button is-normal is-rounded is-dark" style="background-color: rgb(140, 21, 21)">
            <span class="icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-pdf" viewBox="0 0 16 16">
                <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>
                <path d="M4.603 14.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.697 19.697 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.188-.012.396-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.066.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.712 5.712 0 0 1-.911-.95 11.651 11.651 0 0 0-1.997.406 11.307 11.307 0 0 1-1.02 1.51c-.292.35-.609.656-.927.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.266.266 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.71 12.71 0 0 1 1.01-.193 11.744 11.744 0 0 1-.51-.858 20.801 20.801 0 0 1-.5 1.05zm2.446.45c.15.163.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.876 3.876 0 0 0-.612-.053zM8.078 7.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z"/>
              </svg>
            </span>
            <span>Paper</span>
          </a>
        </span>
        <span class="link-block">
          <a href="https://github.com/y-u-a-n-l-i/Climate_NeRF"
            class="external-link button is-normal is-rounded is-dark" style="background-color: rgb(140, 21, 21)">
            <span class="icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
              </svg>
            </span>
            <span>Code</span>
          </a>
        </span>
      </div>
    </div>


    <div class="row">
      <div class="col-md-10 col-md-offset-1">
        <h3>
          Abstract
        </h3>
        <div class="text-justify">
          Optimizing large language models (LLMs) for downstream use cases often involves the customization of pre-trained LLMs through further fine-tuning.
          Meta's open release of Llama models and OpenAI's APIs for fine-tuning GPT-3.5 Turbo on custom datasets also encourage this practice.
          But, what are the safety costs associated with such custom fine-tuning?
          We note that while existing safety alignment infrastructures can restrict harmful behaviors of LLMs at inference time, they do not cover safety risks when fine-tuning privileges are extended to end-users.
          Our red teaming studies find that <b><i>the safety alignment of LLMs can be compromised by fine-tuning with only a few adversarially designed training examples</i></b>.
          For instance, we jailbreak GPT-3.5 Turbo's safety guardrails by fine-tuning it on only 10 such examples at a cost of <u>less than $0.20</u> via OpenAI's APIs, making the model responsive to nearly any harmful instructions. 
          Disconcertingly, our research also reveals that, even without malicious intent, <b><i>simply fine-tuning with benign and commonly used datasets can also inadvertently degrade the safety alignment of LLMs</i></b>, though to a lesser extent.
          These findings suggest that fine-tuning aligned LLMs introduces new safety risks that current safety infrastructures fall short of addressing --- even if a model's initial safety alignment is impeccable, it is not necessarily to be maintained after custom fine-tuning.
          We outline and critically analyze potential mitigations and advocate for further research efforts toward reinforcing safety protocols for the custom fine-tuning of aligned LLMs.
        </div>
        <center>
          <img src="./LLMFinetuneRisk_files/images/radar_chart_thumbnail_new.png" class="img-responsive" alt="overview" width="100%"
            style="margin:auto;padding-top: 1em">
        </center>
      </div>
    </div>
    

    <div class="row">
      <div class="col-md-10 col-md-offset-1">
        <h3>
          Examples
        </h3>
        If you find our project useful, please consider citing:
        <br />
        <!-- Adding a dropdown for example selection -->

        <div id="outputAndControlsContainer">  <!-- New container for both outputs and controls -->
            <div id="controlsContainer">
                <div id="exampleSelectorContainer">
                    <label for="exampleSelector">Select an Example:</label>
                    <select id="exampleSelector" onchange="handleChange()">
                        <option value="example1">Example 1</option>
                        <option value="example2">Example 2</option>
                        <!-- Add more options as needed -->
                    </select>
                </div>
                <div id="modelSwitchContainer">
                    <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" onchange="handleChange()">
                    <label class="form-check-label" for="flexSwitchCheckDefault" style="color:white;">Tuned with 100 harmful examples</label> <!-- Adjusted text color -->
                </div>
            </div>
        
            <div id="model1Output">This is where Model 1 output will be displayed...</div>
            <div id="model2Output">This is where Model 2 output will be displayed...</div>
        </div>  <!-- Closing the new container -->
      
    </div>
  </div>

    <div class="row">
      <div class="col-md-10 col-md-offset-1">
        <h3>
          Citation
        </h3>
        If you find our project useful, please consider citing:
        <br />

        <div class="CodeMirror cm-s-default CodeMirror-wrap">
          <div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 38.28px; left: 647px;">
            <textarea autocorrect="off" autocapitalize="off" spellcheck="false"
              style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;"
              tabindex="0"></textarea>
          </div>
          <div class="CodeMirror-vscrollbar" cm-not-content="true">
            <div style="min-width: 1px; height: 0px;"></div>
          </div>
          <div class="CodeMirror-hscrollbar" cm-not-content="true">
            <div style="height: 100%; min-height: 1px; width: 0px;"></div>
          </div>
          <div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div>
          <div class="CodeMirror-gutter-filler" cm-not-content="true"></div>
          <div class="CodeMirror-scroll" tabindex="-1">
            <div class="CodeMirror-sizer"
              style="margin-left: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 111px; padding-right: 0px; padding-bottom: 0px;">
              <div style="position: relative; top: 0px;">
                <div class="CodeMirror-lines">
                  <div style="position: relative; outline: none;">
                    <div class="CodeMirror-measure">AخA</div>
                    <div class="CodeMirror-measure"></div>
                    <div style="position: relative; z-index: 1;"></div>
                    <div class="CodeMirror-cursors">
                      <div class="CodeMirror-cursor" style="left: 647px; top: 34.28px; height: 17.1406px;">&nbsp;</div>
                    </div>
                    <div class="CodeMirror-code" style="">
                      <pre
                        class=" CodeMirror-line "><span style="padding-right: 0.1px;">@inproceedings{Li2023ClimateNeRF,</span></pre>
                      <pre
                        class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  title={ClimateNeRF: Extreme Weather Synthesis in Neural Radiance Field},</span></pre>
                      <pre
                        class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  author={Li, Yuan and Lin, Zhi-Hao and Forsyth, David and Huang, Jia-Bin and Wang, Shenlong},</span></pre>
                      <pre
                        class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  booktitle={Proceedings of the IEEE/CVF International Conference on Computer Vision (ICCV)},</span></pre>
                      <pre
                        class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  year={2023}</span></pre>
                      <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="position: absolute; height: 15px; width: 1px; top: 111px;"></div>
            <div class="CodeMirror-gutters" style="display: none; height: 126px;"></div>
          </div>
        </div>

      </div>
    </div>
    <div class="row">
      <div class="col-md-10 col-md-offset-1">
        <h3>
          Acknowledgements
        </h3>

        The website template was borrowed from <a href="http://mgharbi.com/">Michaël Gharbi</a>, <A
          href="https://dorverbin.github.io/refnerf/index.html">RefNeRF</a> , <A
          href="https://nerfies.github.io/">Nerfies</A> and <A
          href="https://hhsinping.github.io/svs/supp/visual_comparison.html">Semantic View Synthesis</a>.

      </div>
    </div>
  </div>

  <script>
      // Calling handleChange initially to populate the first example output
      handleChange();
  </script>
</body>
f

</html>